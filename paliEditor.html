<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>paliEditor</title>
<script language="javascript">
/**
 * http://www.openjs.com/scripts/events/keyboard_shortcuts/
 * Version : 2.01.B
 * By Binny V A
 * License : BSD
 */
shortcut = {
	'all_shortcuts':{},//All the shortcuts are stored in this array
	'add': function(shortcut_combination,callback,opt) {
		//Provide a set of default options
		var default_options = {
			'type':'keydown',
			'propagate':false,
			'disable_in_input':false,
			'target':document,
			'keycode':false
		}
		if(!opt) opt = default_options;
		else {
			for(var dfo in default_options) {
				if(typeof opt[dfo] == 'undefined') opt[dfo] = default_options[dfo];
			}
		}
		var ele = opt.target;
		if(typeof opt.target == 'string') ele = document.getElementById(opt.target);
		var ths = this;
		shortcut_combination = shortcut_combination.toLowerCase();
		//The function to be called at keypress
		var func = function(e) {
			e = e || window.event;
			if(opt['disable_in_input']) { //Don't enable shortcut keys in Input, Textarea fields
				var element;
				if(e.target) element=e.target;
				else if(e.srcElement) element=e.srcElement;
				if(element.nodeType==3) element=element.parentNode;
				if(element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;
			}
			//Find Which key is pressed
			if (e.keyCode) code = e.keyCode;
			else if (e.which) code = e.which;
			var character = String.fromCharCode(code).toLowerCase();
			if(code == 188) character=","; //If the user presses , when the type is onkeydown
			if(code == 190) character="."; //If the user presses , when the type is onkeydown
			var keys = shortcut_combination.split("+");
			//Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked
			var kp = 0;
			//Work around for stupid Shift key bug created by using lowercase - as a result the shift+num combination was broken
			var shift_nums = {
				"`":"~",
				"1":"!",
				"2":"@",
				"3":"#",
				"4":"$",
				"5":"%",
				"6":"^",
				"7":"&",
				"8":"*",
				"9":"(",
				"0":")",
				"-":"_",
				"=":"+",
				";":":",
				"'":"\"",
				",":"<",
				".":">",
				"/":"?",
				"\\":"|"
			}
			//Special Keys - and their codes
			var special_keys = {
				'esc':27,
				'escape':27,
				'tab':9,
				'space':32,
				'return':13,
				'enter':13,
				'backspace':8,
				'scrolllock':145,
				'scroll_lock':145,
				'scroll':145,
				'capslock':20,
				'caps_lock':20,
				'caps':20,
				'numlock':144,
				'num_lock':144,
				'num':144,
				'pause':19,
				'break':19,
				'insert':45,
				'home':36,
				'delete':46,
				'end':35,
				'pageup':33,
				'page_up':33,
				'pu':33,
				'pagedown':34,
				'page_down':34,
				'pd':34,
				'left':37,
				'up':38,
				'right':39,
				'down':40,
				'f1':112,
				'f2':113,
				'f3':114,
				'f4':115,
				'f5':116,
				'f6':117,
				'f7':118,
				'f8':119,
				'f9':120,
				'f10':121,
				'f11':122,
				'f12':123
			}
			var modifiers = { 
				shift: { wanted:false, pressed:false},
				ctrl : { wanted:false, pressed:false},
				alt  : { wanted:false, pressed:false},
				meta : { wanted:false, pressed:false}	//Meta is Mac specific
			};
			if(e.ctrlKey)	modifiers.ctrl.pressed = true;
			if(e.shiftKey)	modifiers.shift.pressed = true;
			if(e.altKey)	modifiers.alt.pressed = true;
			if(e.metaKey)   modifiers.meta.pressed = true;
			for(var i=0; k=keys[i],i<keys.length; i++) {
				//Modifiers
				if(k == 'ctrl' || k == 'control') {
					kp++;
					modifiers.ctrl.wanted = true;
				} else if(k == 'shift') {
					kp++;
					modifiers.shift.wanted = true;
				} else if(k == 'alt') {
					kp++;
					modifiers.alt.wanted = true;
				} else if(k == 'meta') {
					kp++;
					modifiers.meta.wanted = true;
				} else if(k.length > 1) { //If it is a special key
					if(special_keys[k] == code) kp++;
				} else if(opt['keycode']) {
					if(opt['keycode'] == code) kp++;
				} else { //The special keys did not match
					if(character == k) kp++;
					else {
						if(shift_nums[character] && e.shiftKey) { //Stupid Shift key bug created by using lowercase
							character = shift_nums[character]; 
							if(character == k) kp++;
						}
					}
				}
			}
			if(kp == keys.length && 
						modifiers.ctrl.pressed == modifiers.ctrl.wanted &&
						modifiers.shift.pressed == modifiers.shift.wanted &&
						modifiers.alt.pressed == modifiers.alt.wanted &&
						modifiers.meta.pressed == modifiers.meta.wanted) {
				callback(e);
				if(!opt['propagate']) { //Stop the event
					//e.cancelBubble is supported by IE - this will kill the bubbling process.
					e.cancelBubble = true;
					e.returnValue = false;
					//e.stopPropagation works in Firefox.
					if (e.stopPropagation) {
						e.stopPropagation();
						e.preventDefault();
					}
					return false;
				}
			}
		}
		this.all_shortcuts[shortcut_combination] = {
			'callback':func, 
			'target':ele, 
			'event': opt['type']
		};
		//Attach the function with the event
		if(ele.addEventListener) ele.addEventListener(opt['type'], func, false);
		else if(ele.attachEvent) ele.attachEvent('on'+opt['type'], func);
		else ele['on'+opt['type']] = func;
	},
	//Remove the shortcut - just specify the shortcut and I will remove the binding
	'remove':function(shortcut_combination) {
		shortcut_combination = shortcut_combination.toLowerCase();
		var binding = this.all_shortcuts[shortcut_combination];
		delete(this.all_shortcuts[shortcut_combination])
		if(!binding) return;
		var type = binding['event'];
		var ele = binding['target'];
		var callback = binding['callback'];
		if(ele.detachEvent) ele.detachEvent('on'+type, callback);
		else if(ele.removeEventListener) ele.removeEventListener(type, callback, false);
		else ele['on'+type] = false;
	}
}
    </script>
<script language="javascript">
    // -------------------------------------------------------------------
    // Switch Content Script- By Dynamic Drive, available at: http://www.dynamicdrive.com
    // Created: Jan 5th, 2007
    // April 5th, 07: Added ability to persist content states by x days versus just session only
    // March 27th, 08': Added ability for certain headers to get its contents remotely from an external file via Ajax (2 variables below to customize)
    // -------------------------------------------------------------------
    var switchcontent_ajax_msg='<em>Loading Ajax content...</em>' //Customize message to show while fetching Ajax content (if applicable)
    var switchcontent_ajax_bustcache=true //Bust cache and refresh fetched Ajax contents when page is reloaded/ viewed again?
    function switchcontent(className, filtertag){
	    this.className=className
	    this.collapsePrev=false //Default: Collapse previous content each time
	    this.persistType="none" //Default: Disable persistence
	    //Limit type of element to scan for on page for switch contents if 2nd function parameter is defined, for efficiency sake (ie: "div")
	    this.filter_content_tag=(typeof filtertag!="undefined")? filtertag.toLowerCase() : ""
	    this.ajaxheaders={} //object to hold path to ajax content for corresponding header (ie: ajaxheaders["header1"]='external.htm')
    }
    switchcontent.prototype.setStatus=function(openHTML, closeHTML){ //PUBLIC: Set open/ closing HTML indicator. Optional
	    this.statusOpen=openHTML
	    this.statusClosed=closeHTML
    }
    switchcontent.prototype.setColor=function(openColor, closeColor){ //PUBLIC: Set open/ closing color of switch header. Optional
	    this.colorOpen=openColor
	    this.colorClosed=closeColor
    }
    switchcontent.prototype.setPersist=function(bool, days){ //PUBLIC: Enable/ disable persistence. Default is false.
	    if (bool==true){ //if enable persistence
		    if (typeof days=="undefined") //if session only
			    this.persistType="session"
		    else{ //else if non session persistent
			    this.persistType="days"
			    this.persistDays=parseInt(days)
		    }
	    }
	    else
		    this.persistType="none"
    }
    switchcontent.prototype.collapsePrevious=function(bool){ //PUBLIC: Enable/ disable collapse previous content. Default is false.
	    this.collapsePrev=bool
    }
    switchcontent.prototype.setContent=function(index, filepath){ //PUBLIC: Set path to ajax content for corresponding header based on header index
	    this.ajaxheaders["header"+index]=filepath
    }
    switchcontent.prototype.sweepToggle=function(setting){ //PUBLIC: Expand/ contract all contents method. (Values: "contract"|"expand")
	    if (typeof this.headers!="undefined" && this.headers.length>0){ //if there are switch contents defined on the page
		    for (var i=0; i<this.headers.length; i++){
			    if (setting=="expand")
				    this.expandcontent(this.headers[i]) //expand each content
			    else if (setting=="contract")
				    this.contractcontent(this.headers[i]) //contract each content
		    }
	    }
    }
    switchcontent.prototype.defaultExpanded=function(){ //PUBLIC: Set contents that should be expanded by default when the page loads (ie: defaultExpanded(0,2,3)). Persistence if enabled overrides this setting.
	    var expandedindices=[] //Array to hold indices (position) of content to be expanded by default
	    //Loop through function arguments, and store each one within array
	    //Two test conditions: 1) End of Arguments array, or 2) If "collapsePrev" is enabled, only the first entered index (as only 1 content can be expanded at any time)
	    for (var i=0; (!this.collapsePrev && i<arguments.length) || (this.collapsePrev && i==0); i++)
		    expandedindices[expandedindices.length]=arguments[i]
	    this.expandedindices=expandedindices.join(",") //convert array into a string of the format: "0,2,3" for later parsing by script
    }
    //PRIVATE: Sets color of switch header.
    switchcontent.prototype.togglecolor=function(header, status){
	    if (typeof this.colorOpen!="undefined")
		    header.style.color=status
    }
    //PRIVATE: Sets status indicator HTML of switch header.
    switchcontent.prototype.togglestatus=function(header, status){
	    if (typeof this.statusOpen!="undefined")
		    header.firstChild.innerHTML=status
    }
    //PRIVATE: Contracts a content based on its corresponding header entered
    switchcontent.prototype.contractcontent=function(header){
	    var innercontent=document.getElementById(header.id.replace("-title", "")) //Reference content container for this header
	    innercontent.style.display="none"
	    this.togglestatus(header, this.statusClosed)
	    this.togglecolor(header, this.colorClosed)
    }
    //PRIVATE: Expands a content based on its corresponding header entered
    switchcontent.prototype.expandcontent=function(header){
	    var innercontent=document.getElementById(header.id.replace("-title", ""))
	    if (header.ajaxstatus=="waiting"){//if this is an Ajax header AND remote content hasn't already been fetched
		    switchcontent.connect(header.ajaxfile, header)
	    }
	    innercontent.style.display="block"
	    this.togglestatus(header, this.statusOpen)
	    this.togglecolor(header, this.colorOpen)
    }
    // -------------------------------------------------------------------
    // PRIVATE: toggledisplay(header)- Toggles between a content being expanded or contracted
    // If "Collapse Previous" is enabled, contracts previous open content before expanding current
    // -------------------------------------------------------------------
    switchcontent.prototype.toggledisplay=function(header){
	    var innercontent=document.getElementById(header.id.replace("-title", "")) //Reference content container for this header
	    if (innercontent.style.display=="block")
		    this.contractcontent(header)
	    else{
		    this.expandcontent(header)
		    if (this.collapsePrev && typeof this.prevHeader!="undefined" && this.prevHeader.id!=header.id) // If "Collapse Previous" is enabled and there's a previous open content
			    this.contractcontent(this.prevHeader) //Contract that content first
	    }
	    if (this.collapsePrev)
		    this.prevHeader=header //Set current expanded content as the next "Previous Content"
    }
    // -------------------------------------------------------------------
    // PRIVATE: collectElementbyClass()- Searches and stores all switch contents (based on shared class name) and their headers in two arrays
    // Each content should carry an unique ID, and for its header, an ID equal to "CONTENTID-TITLE"
    // -------------------------------------------------------------------
    switchcontent.prototype.collectElementbyClass=function(classname){ //Returns an array containing DIVs with specified classname
	    var classnameRE=new RegExp("(^|\\s+)"+classname+"($|\\s+)", "i") //regular expression to screen for classname within element
	    this.headers=[], this.innercontents=[]
	    if (this.filter_content_tag!="") //If user defined limit type of element to scan for to a certain element (ie: "div" only)
		    var allelements=document.getElementsByTagName(this.filter_content_tag)
	    else //else, scan all elements on the page!
		    var allelements=document.all? document.all : document.getElementsByTagName("*")
	    for (var i=0; i<allelements.length; i++){
		    if (typeof allelements[i].className=="string" && allelements[i].className.search(classnameRE)!=-1){
			    if (document.getElementById(allelements[i].id+"-title")!=null){ //if header exists for this inner content
				    this.headers[this.headers.length]=document.getElementById(allelements[i].id+"-title") //store reference to header intended for this inner content
				    this.innercontents[this.innercontents.length]=allelements[i] //store reference to this inner content
			    }
		    }
	    }
    }
    //PRIVATE: init()- Initializes Switch Content function (collapse contents by default unless exception is found)
    switchcontent.prototype.init=function(){
	    var instanceOf=this
	    this.collectElementbyClass(this.className) //Get all headers and its corresponding content based on shared class name of contents
	    if (this.headers.length==0) //If no headers are present (no contents to switch), just exit
		    return
	    //If admin has changed number of days to persist from current cookie records, reset persistence by deleting cookie
	    if (this.persistType=="days" && (parseInt(switchcontent.getCookie(this.className+"_dtrack"))!=this.persistDays))
		    switchcontent.setCookie(this.className+"_d", "", -1) //delete cookie
	    // Get ids of open contents below. Four possible scenerios:
	    // 1) Session only persistence is enabled AND corresponding cookie contains a non blank ("") string
	    // 2) Regular (in days) persistence is enabled AND corresponding cookie contains a non blank ("") string
	    // 3) If there are contents that should be enabled by default (even if persistence is enabled and this IS the first page load)
	    // 4) Default to no contents should be expanded on page load ("" value)
	    var opencontents_ids=(this.persistType=="session" && switchcontent.getCookie(this.className)!="")? ','+switchcontent.getCookie(this.className)+',' : (this.persistType=="days" && switchcontent.getCookie(this.className+"_d")!="")? ','+switchcontent.getCookie(this.className+"_d")+',' : (this.expandedindices)? ','+this.expandedindices+',' : ""
	    for (var i=0; i<this.headers.length; i++){ //BEGIN FOR LOOP
		    if (typeof this.ajaxheaders["header"+i]!="undefined"){ //if this is an Ajax header
			    this.headers[i].ajaxstatus='waiting' //two possible statuses: "waiting" and "loaded"
			    this.headers[i].ajaxfile=this.ajaxheaders["header"+i]
		    }
		    if (typeof this.statusOpen!="undefined") //If open/ closing HTML indicator is enabled/ set
			    this.headers[i].innerHTML='<span class="status"></span>'+this.headers[i].innerHTML //Add a span element to original HTML to store indicator
		    if (opencontents_ids.indexOf(','+i+',')!=-1){ //if index "i" exists within cookie string or default-enabled string (i=position of the content to expand)
			    this.expandcontent(this.headers[i]) //Expand each content per stored indices (if ""Collapse Previous" is set, only one content)
			    if (this.collapsePrev) //If "Collapse Previous" set
			    this.prevHeader=this.headers[i]  //Indicate the expanded content's corresponding header as the last clicked on header (for logic purpose)
		    }
		    else //else if no indices found in stored string
			    this.contractcontent(this.headers[i]) //Contract each content by default
		    this.headers[i].onclick=function(){instanceOf.toggledisplay(this)}
	    } //END FOR LOOP
	    switchcontent.dotask(window, function(){instanceOf.rememberpluscleanup()}, "unload") //Call persistence method onunload
    }
    // -------------------------------------------------------------------
    // PRIVATE: rememberpluscleanup()- Stores the indices of content that are expanded inside session only cookie
    // If "Collapse Previous" is enabled, only 1st expanded content index is stored
    // -------------------------------------------------------------------
    //Function to store index of opened ULs relative to other ULs in Tree into cookie:
    switchcontent.prototype.rememberpluscleanup=function(){
	    //Define array to hold ids of open content that should be persisted
	    //Default to just "none" to account for the case where no contents are open when user leaves the page (and persist that):
	    var opencontents=new Array("none")
	    for (var i=0; i<this.innercontents.length; i++){
		    //If persistence enabled, content in question is expanded, and either "Collapse Previous" is disabled, or if enabled, this is the first expanded content
		    if (this.persistType!="none" && this.innercontents[i].style.display=="block" && (!this.collapsePrev || (this.collapsePrev && opencontents.length<2)))
			    opencontents[opencontents.length]=i //save the index of the opened UL (relative to the entire list of ULs) as an array element
		    this.headers[i].onclick=null //Cleanup code
	    }
	    if (opencontents.length>1) //If there exists open content to be persisted
		    opencontents.shift() //Boot the "none" value from the array, so all it contains are the ids of the open contents
	    if (typeof this.statusOpen!="undefined")
		    this.statusOpen=this.statusClosed=null //Cleanup code
	    if (this.persistType=="session") //if session only cookie set
		    switchcontent.setCookie(this.className, opencontents.join(",")) //populate cookie with indices of open contents: classname=1,2,3,etc
	    else if (this.persistType=="days" && typeof this.persistDays=="number"){ //if persistent cookie set instead
		    switchcontent.setCookie(this.className+"_d", opencontents.join(","), this.persistDays) //populate cookie with indices of open contents
		    switchcontent.setCookie(this.className+"_dtrack", this.persistDays, this.persistDays) //also remember number of days to persist (int)
	    }
    }
    // -------------------------------------------------------------------
    // A few utility functions below:
    // -------------------------------------------------------------------
    switchcontent.dotask=function(target, functionref, tasktype){ //assign a function to execute to an event handler (ie: onunload)
	    var tasktype=(window.addEventListener)? tasktype : "on"+tasktype
	    if (target.addEventListener)
		    target.addEventListener(tasktype, functionref, false)
	    else if (target.attachEvent)
		    target.attachEvent(tasktype, functionref)
    }
    switchcontent.connect=function(pageurl, header){
	    var page_request = false
	    var bustcacheparameter=""
	    if (window.ActiveXObject){ //Test for support for ActiveXObject in IE first (as XMLHttpRequest in IE7 is broken)
		    try {
		    page_request = new ActiveXObject("Msxml2.XMLHTTP")
		    } 
		    catch (e){
			    try{
			    page_request = new ActiveXObject("Microsoft.XMLHTTP")
			    }
			    catch (e){}
		    }
	    }
	    else if (window.XMLHttpRequest) // if Mozilla, Safari etc
		    page_request = new XMLHttpRequest()
	    else
		    return false
	    page_request.onreadystatechange=function(){switchcontent.loadpage(page_request, header)}
	    if (switchcontent_ajax_bustcache) //if bust caching of external page
		    bustcacheparameter=(pageurl.indexOf("?")!=-1)? "&"+new Date().getTime() : "?"+new Date().getTime()
	    page_request.open('GET', pageurl+bustcacheparameter, true)
	    page_request.send(null)
    }
    switchcontent.loadpage=function(page_request, header){
	    var innercontent=document.getElementById(header.id.replace("-title", "")) //Reference content container for this header
	    innercontent.innerHTML=switchcontent_ajax_msg //Display "fetching page message"
	    if (page_request.readyState == 4 && (page_request.status==200 || window.location.href.indexOf("http")==-1)){
		    innercontent.innerHTML=page_request.responseText
		    header.ajaxstatus="loaded"
	    }
    }
    switchcontent.getCookie=function(Name){ 
	    var re=new RegExp(Name+"=[^;]+", "i"); //construct RE to search for target name/value pair
	    if (document.cookie.match(re)) //if cookie found
		    return document.cookie.match(re)[0].split("=")[1] //return its value
	    return ""
    }
    switchcontent.setCookie=function(name, value, days){
	    if (typeof days!="undefined"){ //if set persistent cookie
		    var expireDate = new Date()
		    var expstring=expireDate.setDate(expireDate.getDate()+days)
		    document.cookie = name+"="+value+"; expires="+expireDate.toGMTString()
	    }
	    else //else if this is a session only cookie
		    document.cookie = name+"="+value
    }
    </script>
<script language="javascript">
    setInterval(function(){textareaSave();},5000);
    // calling the function
    // insertAtCursor(document.formName.fieldName, 'this value');
    function insertAtCursor(myField, myValue) {
	    //IE support
	    if (document.selection) {
		    myField.focus();
		    sel = document.selection.createRange();
		    sel.text = myValue;
	    }
	    //MOZILLA/NETSCAPE support
	    else if (myField.selectionStart || myField.selectionStart == '0') {
		    var startPos = myField.selectionStart;
		    var endPos = myField.selectionEnd;
		    myField.value = myField.value.substring(0, startPos)
			+ myValue 
			+ myField.value.substring(endPos, myField.value.length);
		    myField.selectionStart+=1;
		    myField.selectionEnd=myField.selectionStart;
	    } else {
		    myField.value += myValue;
	    }
    }
    function getCursorPosition(el) { 
      if (el.selectionStart) { 
        return el.selectionStart; 
      } else if (document.selection) { 
        el.focus(); 
        var r = document.selection.createRange(); 
        if (r == null) { 
          return 0; 
        } 
        var re = el.createTextRange(), 
            rc = re.duplicate(); 
        re.moveToBookmark(r.getBookmark()); 
        rc.setEndPoint('EndToStart', re); 
        return rc.text.length; 
      }  
      return 0; 
    }
    function setCursorPosition(el, pos)
    {
	obj=el;
	//FOR IE
	if(obj.setSelectionRange)
	{
	    obj.focus();
	    obj.setSelectionRange(pos,pos);
	}
	// For Firefox
	else if (obj.createTextRange)
	{
	    var range = obj.createTextRange();
	    range.collapse(true);
	    range.moveEnd('character', pos);
	    range.moveStart('character', pos);
	    range.select();
	}
    }
    function storageCheck () {
	if(typeof(Storage)!=="undefined")
	  {
	    return true;
	  }
	else
	  {
	    alert("       Your browser doesn't support this function. \n       Please copy your document to another place before close this page.");
	    return false;
	  }
    }
    function textareaSave() {
	if (!storageCheck ()) return ;
	try {
	    localStorage.paliEditorSave=document.getElementById('textarea').value;
	} catch(e) {}
    }
    function textareaLoad() {
	try {
	document.getElementById('textarea').value=localStorage.paliEditorSave;
	} catch (e){}
    }
    </script>
<style type="text/css">
    /*Style sheet used for demo. Remove if desired*/
    .handcursor{
    cursor:hand;
    cursor:pointer;
    }
    body {
	font-family: sans-serif;
    }
    label {
	display: block;
    }
    textarea {
	font-family: monospace;
    }
</style>
</head>
<body onload="textareaLoad();document.getElementById('textarea').focus();">
<b><center>Namo Tassa Bhagavato Arahato Sammāsambuddhassa</center></b>
<h3 id="joecontent1-title" class="handcursor">Toolbar</h3>
<p id="joecontent1" class="switchgroup2">
	<input type="button" value="Save" onclick="textareaSave();" /><input type="button" value="Load" onclick="textareaLoad();" /><input type="button" value="Seperator" onclick="textarea.value='\n\n--------------------------------------------\n\n' +textarea.value; setCursorPosition(textarea, 0); textarea.focus(); " /><br />
	<br />
	<span id="charToolbar"></span>
</p>
<h3 id="joecontent2-title" class="handcursor">paliEditor</h3>
<p id="joecontent2" class="switchgroup2">
	<textarea name="textarea" id="textarea" cols='80' rows='17' placeholder="Type your pali here..."></textarea>
</p>
<script language="javascript">
    var shortcutKey="Alt";
    var textarea=document.getElementById('textarea');	
    var spclUpChar="ĀĪŪṄÑṬḌṆḶṀ".split("");
    var spclLoChar="āīūṅñṭḍṇḷṁ".split("");	
    var nomlUpChar="AIUKCTDNLM".split("");
    var nomlLoChar=nomlUpChar.join("").toLowerCase().split("");
    var spclChar=spclUpChar.concat(spclLoChar);
    var nomlChar=nomlUpChar.concat(nomlLoChar);
    //var spclCode=[65, 73, 85, 75, 67, 84, 68, 78, 76, 77];//on key up and upper of onkeypress
    var spclCode=[65, 73, 85, 75, 67, 84, 68, 78, 76, 77,
	97, 105, 117, 107, 99, 116, 100, 110, 108, 109];
    charToolbar="";
    for (i in spclUpChar) {
	charToolbar+='<input type="button" value="'+spclUpChar[i]+'" title="'+shortcutKey+'+Shift+'+nomlUpChar[i]+'" onclick="insertAtCursor(document.activeElement, \''+spclUpChar[i]+'\');" />';
	charToolbar+='<input type="button" value="'+spclLoChar[i]+'" title="'+shortcutKey+'+'+nomlLoChar[i]+'" onclick="insertAtCursor(document.activeElement, \''+spclLoChar[i]+'\');" />&nbsp;&nbsp;';
    }    
    document.getElementById("charToolbar").innerHTML=charToolbar;
    shortcut.remove("Ctrl+S");
    shortcut.add("Ctrl+S",function() {
	    textareaSave();
    });
    for (i in nomlUpChar) {    
	shortcut.remove(shortcutKey+"+"+nomlUpChar[i]);
	shortcut.remove(shortcutKey+"+Shift"+nomlLoChar[i]);
	eval("shortcut.add(\""+shortcutKey+"+Shift+"+nomlUpChar[i]+"\",function() {var lastPos=getCursorPosition(document.activeElement); insertAtCursor(document.activeElement, \""+spclUpChar[i]+"\"); setCursorPosition(document.activeElement, lastPos+1);});");
	eval("shortcut.add(\""+shortcutKey+"+"+nomlLoChar[i]+"\",function() {var lastPos=getCursorPosition(document.activeElement); insertAtCursor(document.activeElement, \""+spclLoChar[i]+"\"); setCursorPosition(document.activeElement, lastPos+1);});");
    }
    /*
    //Fail because just one of last "i" variable value can pass into function() { }.
    //And I can't use (function () {})(); because callback requir a function but ()(); isn't function.
    for (i in nomlUpChar) {
	shortcut.add("Ctrl+Shift+"+nomlUpChar[i],function() {alert(i);callBack(textarea,spclUpChar[i])});
    }
    for (i in nomlLoChar) {
	shortcut.add("Ctrl+"+nomlUpChar[i],function() {alert(i);callBack(textarea,spclLoChar[i])});
    }
    function callBack(textarea,i) {
	insertAtCursor(textarea, i);
	textarea.focus();
    }*/
    </script>
<h3 id="joecontent4-title" class="handcursor">Reference Tool</h3>
<p id="joecontent4" class="switchgroup2">
	<b>Just Tipitaka, Atthakathā, Ṭīkā, and Pāli Dictionary Google Search (alpha)</b>
	<!-- Put the following javascript before the closing </head> tag. -->
	<script language="javascript">
	      (function() {
		var cx = '004195954361687891040:vlgpwlxsk8m';
		var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
		gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
		    '//www.google.com/cse/cse.js?cx=' + cx;
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
	      })();
	    </script>
	<!-- Place this tag where you want both of the search box and the search results to render -->
	<gcse:search></gcse:search><br />
	<b>Another</b><br />
	<a href="http://www.tipitaka.org/romn/" target="_blank">All of Tipitaka, Atthakathā, and Ṭīkā Pāli.</a><br />
	<a href="http://www.accesstoinsight.org/" target="_blank">English Translated Tipitaka.</a><br />
	<a href="http://dsal.uchicago.edu/dictionaries/pali/" target="_blank">Pali-English Dictionary.</a><br />
	<a href="http://www.84000.org/tipitaka/dic/" target="_blank">Thai and English Dictionary.</a><br />
	<a href="http://translate.googleusercontent.com/translate_c?depth=1&hl=th&rurl=translate.google.co.th&sl=th&tl=en&twu=1&u=http://www.84000.org/tipitaka/pitaka_item/&usg=ALkJrhh6a4xiTIAjSmLSmRA3go5et4GiWw" target="_blank">Translate back to english by Google Translate tool of Thai Translated Tipitaka and Atthakathā.</a><br />
</p>
<h3 id="joecontent3-title" class="handcursor">How to and Tips</h3>
<p id="joecontent3" class="switchgroup2">
	<b>Online Contact</b><br />
	<a href="http://code.google.com/p/pali-editor/" target="_blank">Google Code</a><br />
	<b>Manual</b><br />
	 paliEditor has 2 methods--mouse click and meyboard shortcut, to insert pali special character.<br />
	 -<b>Keyboard Shortcut</b><br />
	 --Use Shortcut Key to insert pali special character. Notice : shortcut keys are relative with Samaññābhidhāna in Kaccayanaveyyākaraṇa.<br />
	<script language="javascript">
	for (i in spclChar) {
	    if (i<10) { 
		document.write('"'+spclChar[i]+'" = '+shortcutKey+' + Shift + '+nomlChar[i]+'<br />');
	    } else {
		document.write('"'+spclChar[i]+'" = '+shortcutKey+' + '+nomlChar[i]+'<br />');
	    } 
	}  
	</script>
	 -<b>Mouse Click</b><br />
	 --Click on "Toolbar" then click on a character button that you would like to insert. Button sorted as alike as Samaññābhidhāna in Kaccayanaveyyākaraṇa.<br />
	 -<b>Another Tips.</b><br />
	 --Press Ctrl+S to Save except midori browser use Alt+S.<br />
	 --Press Ctrl+A to select all message in the textarea, then press Ctrl+C to copy. <br />
	 --<b>You should bookmark this page for easy to access. <br />
	 --The editor will auto-save your message every 5 minute. <br />
	 --Don't open more than one paliEditor, because the save option can save only one paliEditor--except a difference browser user, browser application, or OS. If you have more than 1 article to write, you can use Seperate button in Toolbar tab to seperate between content.<br />
</p>
<script type="text/javascript">
    var joeexample=new switchcontent("switchgroup2", "p") //Limit scanning of switch contents to just "p" elements
    joeexample.setStatus('[-] ', '[+] ')
    joeexample.setColor('green', 'red')
    joeexample.collapsePrevious(false) //Allow more than 1 content to be open simultanously
    joeexample.setPersist(false)
    joeexample.defaultExpanded(1)
    joeexample.init()
    </script>
</body>
</html>
